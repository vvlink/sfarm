<xml xmlns="http://www.w3.org/1999/xhtml"><block type="siot_init" x="-267" y="35"><value name="IPADDRESS"><shadow type="text"><field name="TEXT">127.0.0.1</field></shadow></value><value name="USERNAME"><shadow type="text"><field name="TEXT">scope</field></shadow></value><value name="PASSWORD"><shadow type="text"><field name="TEXT">scope</field></shadow></value><next><block type="controls_if"><value name="IF0"><block type="siot_connect_state"></block></value><statement name="DO0"><block type="controls_whileUntil"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean"><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="siot_subscribe_topic"><mutation items="1"></mutation><value name="ADD0"><block type="text"><field name="TEXT">af/d2</field></block></value><next><block type="variables_set"><field name="VAR">a0</field><value name="VALUE"><block type="analog_read"><field name="ANALOG_PIN">Pin.A0</field></block></value><next><block type="siot_send_msg"><value name="MESSAGE"><shadow type="text"><field name="TEXT">hello</field></shadow><block type="variables_get"><field name="VAR">a0</field></block></value><value name="TOPIC"><shadow type="text"><field name="TEXT">xzr/001</field></shadow><block type="text"><field name="TEXT">af/a0</field></block></value><next><block type="sleep_ms"><value name="SLEEP_TIME_MILI"><block type="math_number"><field name="NUM">0.01</field></block></value><next><block type="variables_set"><field name="VAR">a1</field><value name="VALUE"><block type="analog_read"><field name="ANALOG_PIN">Pin.A1</field></block></value><next><block type="siot_send_msg"><value name="MESSAGE"><shadow type="text"><field name="TEXT">hello</field></shadow><block type="variables_get"><field name="VAR">a1</field></block></value><value name="TOPIC"><shadow type="text"><field name="TEXT">xzr/001</field></shadow><block type="text"><field name="TEXT">af/a1</field></block></value><next><block type="sleep_ms"><value name="SLEEP_TIME_MILI"><block type="math_number"><field name="NUM">0.01</field></block></value><next><block type="variables_set"><field name="VAR">dht</field><value name="VALUE"><block type="lists_create_with"><mutation items="2"></mutation><value name="ADD0"><block type="dht_read"><field name="TEMP_TYPE">DHT11</field><field name="PIN">Pin.D4</field><field name="TEMP_VALUE">temp_c()</field></block></value><value name="ADD1"><block type="dht_read"><field name="TEMP_TYPE">DHT11</field><field name="PIN">Pin.D4</field><field name="TEMP_VALUE">humidity()</field></block></value></block></value><next><block type="siot_send_msg"><value name="MESSAGE"><shadow type="text"><field name="TEXT">hello</field></shadow><block type="variables_get"><field name="VAR">dht</field></block></value><value name="TOPIC"><shadow type="text"><field name="TEXT">xzr/001</field></shadow><block type="text"><field name="TEXT">af/d4</field></block></value><next><block type="sleep_ms"><value name="SLEEP_TIME_MILI"><block type="math_number"><field name="NUM">5</field></block></value><next><block type="controls_if"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="text"><field name="TEXT">1</field></block></value><value name="B"><block type="siot_read_msg"><value name="TOPIC"><shadow type="text"><field name="TEXT">xzr/001</field></shadow><block type="text"><field name="TEXT">af/d2</field></block></value></block></value></block></value><statement name="DO0"><block type="digital_write"><field name="PIN">Pin.D2</field><field name="STATE">1</field><next><block type="sleep_ms"><value name="SLEEP_TIME_MILI"><block type="math_number"><field name="NUM">5</field></block></value></block></next></block></statement><statement name="ELSE"><block type="digital_write"><field name="PIN">Pin.D2</field><field name="STATE">0</field></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">GT</field><value name="A"><block type="math_number"><field name="NUM">380</field></block></value><value name="B"><block type="variables_get"><field name="VAR">a1</field></block></value></block></value><statement name="DO0"><block type="digital_write"><field name="PIN">Pin.D2</field><field name="STATE">1</field><next><block type="sleep_ms"><value name="SLEEP_TIME_MILI"><block type="math_number"><field name="NUM">2</field></block></value><next><block type="digital_write"><field name="PIN">Pin.D2</field><field name="STATE">0</field></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block></next></block></xml>